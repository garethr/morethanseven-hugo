<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.21-DEV" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>More than seven &middot; More than seven</title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/hyde.css">
  <link rel="stylesheet" href="/css/poole-overrides.css">
  <link rel="stylesheet" href="/css/hyde-overrides.css">
  <link rel="stylesheet" href="/css/hyde-x.css">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  
  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="More than seven &middot; More than seven" />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-435455-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body class="theme-base-08">
<div class="sidebar">
  <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=morethansevennet" id="_carbonads_js"></script>
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1><a href="/">More than seven</a></h1>
      <p class="lead">Writing about code. Occasional other topics. Made by <a href="https://twitter.com/garethr">@garethr</a>.</p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2017/05/26/conference-speaking-as-a-software-vendor/">Conference speaking as a software vendor</a>
      </h1>
      <span class="post-date">May 26, 2017 &middot; 9 minute read
      </span>
      
      

<p>While reviewing 100s of proposals for upcoming conferences (Velocity EU and
PuppetConf) I tweeted <a href="https://twitter.com/garethr/status/863780750927286273">the
following</a>, which
seemed to get a few folks interest.</p>

<blockquote>
<p>I should write a blog post on &ldquo;conference talk submissions for
vendors/consultants&rdquo;. Rule one: own your bias</p>
</blockquote>

<p><a href="https://twitter.com/dparzych/status/864217466389405696">This reply</a> in
particular pushed me over the edge into actually writing this post:</p>

<blockquote>
<p>Would love to hear advice, been told more than once a talk was rejected
since I work for a vendor, even though my talk was not a pitch.</p>
</blockquote>

<p>Writing something up felt like it might be useful to a few folks so here
goes. This is but one persons opinion, but I at least have some relevant
experience:</p>

<ul>
<li>I&rsquo;ve worked for a software vendor for about 3 years</li>
<li>Before that I worked for the UK Government, and before that various
SaaS companies, in-house software teams and very briefly myself</li>
<li>I&rsquo;ve helped out on the programme committee or similar for a variety of
events going back a bunch of years; Velocity, PuppetConf, Lisa,
Devopsdays, QCon</li>
<li>I&rsquo;ve been lucky enough to speak at a wide range of events in lots of
different places</li>
</ul>

<p>Some of the following advice is pretty general, if you&rsquo;re interested in
speaking at software conferences (at least those I&rsquo;ve seen or spoken at)
then hopefully much of this is relevant to you. But I also want to focus on
people working for a software vendor. I think that&rsquo;s particularly
relevant as more and more traditional vendors court the open source
community and software developers inparticular, and roles like
<em>developer evangelist</em> see lots of people moving from more practioner
roles to work vendor-side.</p>

<h2 id="learn-to-write-a-good-proposal">Learn to write a good proposal</h2>

<p>My main experience with speaking at conferences, or helping currate
content, is via a call-for-proposals. The conference will have some
sort of theme or topic, set a date, and see what content is submitted.
Their are a variety of oft-made points here about sponsoring to get a
talk slot, or submitting early, or approaching the organisers, but in my
experience the best bet is to write a really good proposal around a good
idea. That&rsquo;s obviously easier said that done, but it&rsquo;s not as hard as
you may think.</p>

<ul>
<li>Introduce the problem you&rsquo;re talking about, but don&rsquo;t make
this the whole proposal.</li>
<li>State in the proposal what you&rsquo;re going to talk about. Be specific.
Don&rsquo;t say &ldquo;an open source tool&rdquo; when you mean a specific tool which
has a name. Don&rsquo;t hide the details of the talk because you intend to
reveal them when presenting.</li>
<li>Include explicitly what the audience will do or be able to do
differently after seeing the talk. Go so far as to say <em>&ldquo;after this
talk attendee will&hellip;&rdquo;</em></li>
<li>Novely really helps, as long as the topic is interesting and relevant.
Given 100 proposals about deploying your web application with Docker,
the one that says &ldquo;and we do this for the International Space Station&rdquo;
is getting picked.</li>
<li>If you know this is going to be a popular topic for other proposals
then you also need to confince the CFP committee why you&rsquo;re the best
person to present it.</li>
<li>Liberally use bullet points. This might be a personal thing but if I&rsquo;m
reading 200+ proposals making it quick to read helps get your point
across.</li>
</ul>

<p>Unless you write a good proposal around an interesting idea you probably
won&rsquo;t be accepted whether you&rsquo;re a software vendor or not. Try get
feedback on your proposals, especially from folks who have previously
spoken at the event you&rsquo;re hoping to present at.</p>

<h2 id="appreciate-you-re-selling-something">Appreciate you&rsquo;re selling something</h2>

<p>If you work for a software vendor your job is to sell software. Not
everyone likes that idea, but I think at least for the purposes of this
blog post it stands true. It doesn&rsquo;t matter if you&rsquo;re an evangelist
reporting into Marketing, or a software developer in Engineering or
anything else - you stand to gain directly or indirectly from people
purchasing your product. From the point of view of a conference you are
thoroughly compromised when it comes to talking about your product
directly. This can be disheartening as you likely work at the vendor
and want to talk at the conference because you&rsquo;re genuinely interested,
even evangelical, about the product. You need to own that bias - there
really is no way around it.</p>

<p>If you work for a vendor, and the CFP committee even thinks the proposal
is about that product, you&rsquo;ll probably not be given the benefit of
doubt.</p>

<h2 id="and-the-answers-is">And the answers is&hellip;</h2>

<p>Probably the worst example of vendor talks that do sometimes get
accepted go something like this:</p>

<ul>
<li>Introduce a problem people can relate to</li>
<li>Show some (probably open source) options for solving, focusing on the
large integration cost of tying them together</li>
<li>Conclude with the answer being the vendors all-in-one product</li>
</ul>

<p>I think for expo events or for sponsored slots this approach is totally
valid, but for a CFP it bugs me:</p>

<ul>
<li>The proposal probably didn&rsquo;t explain that the the answer was the
commercial product sold by the vendor</li>
<li>The talk is unlikely to cover like-for-like competition, for instance
it&rsquo;s probably not going to spend much time referring to direct
commercial competitors</li>
<li>As noted above, the presented is thoroughly biased, which doesn&rsquo;t make
for a great conference talk</li>
</ul>

<p>Please don&rsquo;t do this. It&rsquo;s a easy trap to fall into, mainly because you
hopefully genuinely believe in the product you&rsquo;re talking about and the
problem you&rsquo;re solving. If you really want talks like this try and
encourage your customers to give then - a real-world story version of
this is much more interesting.</p>

<h2 id="talk-about-the-expertise-rather-than-the-product">Talk about the expertise rather than the product</h2>

<p>It&rsquo;s not all doom for those working for software vendors and wanting to
talk at conferences. The reality is that while you&rsquo;re working on a
discrete product you&rsquo;re also likely spending a lot of time thinking about
a specific domain. I spent a bunch of years using Puppet as a product,
but I&rsquo;ve spent more time while working at Puppet thinking about the
nature of configuration, and about wildly heterogenuous systems. When I
worked for the Government I interacted with a handful of departments and
projects. At Puppet I&rsquo;ve spoken with 100s of customers, and read trip
reports on meetings with others. Working for a vendor gives you a
different view of what&rsquo;s going on, especially if you talk to people from
other departments.</p>

<p>In my experience, some of the best talks from those working for software
vendors can be quite meta, theoretical or future facing. You have the
dual benefit of working in a singular domain (so you can do deep) and
hopefully having access to lots customers (so you can go broad).</p>

<h2 id="talks-as-a-product-design-tool">Talks as a product design tool</h2>

<p>As someone working for a vendor, a big part of my job is designing and
building new features or new products. I&rsquo;ve regularly found giving talks
(including the time taken to think about the topic and put together the
demos and slides) to be a great design tool. Assuming you&rsquo;re already
doing research like this, even in the background, pitching a talk on the
subject has a few advantages:</p>

<ul>
<li>It starts you writing for a public audience early in the design
process</li>
<li>The talk being accepted, and the feedback from the talk, provide early
input into the design process</li>
<li>The talk (or published slides) can encourage people thinking about
similar things to get in touch</li>
</ul>

<p>You can see this if you flick through talks I&rsquo;ve given over the past few
years. For instance <a href="https://speakerdeck.com/garethr/whats-inside-that-container">What&rsquo;s inside that
container?</a>
and more recently <a href="https://speakerdeck.com/garethr/security-and-the-self-contained-unit-of-software">Security and the self-contained unit of software</a>
provide some of the conceptual underpinnings for
<a href="https://lumogon.com/">Lumogon</a>. And <a href="https://speakerdeck.com/garethr/the-dockerfile-explosion-and-the-need-for-higher-level-tools">The Dockerfile explosion - and the need for higher-level tools</a>
talk I gave at DockerCon led to the work on <a href="https://github.com/puppetlabs/puppetlabs-image_build">Puppet Image
Build</a>.</p>

<p>These talks all stand alone as (hopefully) useful and interesting
presentations, but also serve a parallel internal purpose which
importantly doesn&rsquo;t excert the same bias on the content.</p>

<h2 id="some-good-examples">Some good examples</h2>

<p>The above is hopefully useful theory, but I appreciate some people
prefer examples. The following include a bunch of talks I&rsquo;ve given at
various conference, with a bit of a rationale. I&rsquo;ve also picked out a
few examples of talks by other folks I respect that work at software
vendors and generally give excellent talks.</p>

<p>A great topic for most vendors to talk about at suitable conferences is
how they approach building software. I spoke about <a href="https://speakerdeck.com/garethr/in-praise-of-slow-continuous-delivery">In praise of slow
(Continuous
Delivery)</a>
at Pipeline conference recently, about how Puppet (and other vendors)
approach techniques like feature flags, continuous delivery and
versioning but for packaged software. That had novelty, as well as being
relevant to anyone involved with an open source project.</p>

<p>Probably my favourite talk I&rsquo;ve given in the last year,
<a href="https://speakerdeck.com/garethr/the-two-sides-to-google-infrastructure-for-everyone-else">The Two Sides to Google Infrastructure for Everyone Else</a>
looks at SRE, and infrastructure from two different vantage points.
This talk came directly from spending time with the container folks on
one hand, and far more traditional IT customers on the other, and
wondering if they meet in the middle.</p>

<p>Charity Majors is the CEO at Honeycomb and likes databases a lot more
than I do. The talk <a href="https://speakerdeck.com/charity/maslows-hierarchy-of-database-needs">Maslows Hierachy of Database Needs</a>
is just solid technical content from an expert on the subject. Closer to
the Honeycomb product is this talk
<a href="https://speakerdeck.com/charity/gluecon-2017-observability-and-the-glorious-future">Observability and the Glorious Future</a>,
but even this avoids falling into the trap described above and stays
focused on generally applicable areas to consider.</p>

<p>Jason Hand from VictorOps has given a number of talks about ChatOps,
including this one entitled <a href="https://speakerdeck.com/jasonhand/chatops-infrastructure-as-conversation">Infrastructure as Conversation</a>.
Note that some of the examples use VictorOps, but the specific tool
isn&rsquo;t the point of the talk. The abstract on the last slide is also a
neat idea.</p>

<p><a href="http://bridgetkromhout.com/">Bridget Kromhout</a> works for Pivotal, the
folks behind Cloud Foundry amongst other things. But she invariably
delivers some of the best big picture operations talks around. Take a
couple of recent examples <a href="http://bridgetkromhout.com/speaking/2017/monitorama/">I Volunteer as Tribute - the Future of Oncall</a>
and <a href="http://bridgetkromhout.com/speaking/2017/agile-technical/">Ops in the Time of Serverless Containerized Webscale</a>.
Neither talk is about a specific product, instead both mix big picture
transformation topics with hard-earned ops experience.</p>

<p>As a final point, all of those examples have interesting titles, which
comes back to the first point above. Make content that people really want
to listen to first, and if you&rsquo;re a vendor own your biases.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2017/03/29/kubernetes-configuration-without-the-yaml/">Kubernetes configuration without the YAML</a>
      </h1>
      <span class="post-date">Mar 29, 2017 &middot; 3 minute read
      </span>
      
      

<p>Tomorrow at KubeCon in Berlin I&rsquo;m running a birds-of-a-feather session to talk
about Kubernetes configuration. Specifically we&rsquo;ll be talking about whether
Kubernetes configuration benefits from a domain specific language. If you&rsquo;re
at the conference and this sounds interesting <a href="http://sched.co/9Tcc">come along</a>.</p>

<h2 id="the-problem">The problem</h2>

<p>The fact the programme committee accepted the session proposa is hopefully a good
indication that at least some other people in the community think this is an
interesting topic to discuss. I&rsquo;ve also had a number of conversations in person
and on the internet about similar areas.</p>

<p>There are a number of other traces of concerns with using YAML as the main user
interface to Kubernetes configuration. This comment from Brian Grant of Google on the
Kubernetes Config SIG mailing list for instance:</p>

<blockquote>
<p>We&rsquo;ve had a few complaints that YAML is ugly, error prone, hard to read, etc.
Are there any other alternatives we might want to support?</p>
</blockquote>

<p>And <a href="https://twitter.com/jbeda/status/833408476437110784">this one</a> from Joe Beda,
one of the creators of Kubernetes:</p>

<blockquote>
<p>I want to go on record: the amount of yaml required to do anything in k8s is a
tragedy. Something we need to solve. (Subtweeting HN comment)</p>
</blockquote>

<p>This quote from the <a href="http://queue.acm.org/detail.cfm?id=2898444">Borg, Omega and Kubernetes paper in ACM Queue, Volume 14, issue 1</a>
nicely sums up my feelings:</p>

<blockquote>
<p>The language to represent the data should be a simple, data-only format
such as JSON or YAML, and programmatic modification of this data should
be done in a real programming language</p>
</blockquote>

<p>This quote also points at the problem I see at the moment. The configuration and the
management of that configuration are <em>separate</em> but related concerns. Far too many
people couple these together, ultimately moving all of the management complexity
onto people. That&rsquo;s a missed opportunity in my view. The Kubernetes API is my
favourite think about the project, I&rsquo;ve waxed lyrical about it allowing for
different higher-level user interfaces for different users to all interact
on the same base platform. But treating what is basically the wire format
as a user interface is just needlessly messy.</p>

<p>But what advantages do we get using a programming language to modify the data?
For me it comes down to:</p>

<ul>
<li>Avoiding repetition</li>
<li>Combining external inputs</li>
<li>Building tools to enforce correctness (linting, unit testing, etc.)</li>
<li>The abililty to introduce abstractions</li>
</ul>

<p>It&rsquo;s the last part I find most compelling. Building things to allow others
to interact with a smaller domain specific abstraction is one way of scaling
expertise. The infrastructure as code space I&rsquo;ve been involved in has lots of
stories to tell around different good (and bad) ways of mixing data with code,
but the idea that data on it&rsquo;s own is enough without higher-level abstractions
doesn&rsquo;t hold up in my experience.</p>

<h2 id="what-can-i-use-instead">What can I use instead?</h2>

<p>Lukily various people at this point have build tools in this space. I&rsquo;m not sure
could or should be a single answer to the question (whether there should be a
default is a harder question to answer) but the following definitely all show
what&rsquo;s possible.</p>

<ul>
<li><a href="http://jsonnet.org/">Jsonnet</a></li>
<li><a href="https://github.com/anguslees/kubecfg">kubecfg</a></li>
<li><a href="https://github.com/garethr/garethr-kubernetes">Puppet Kubernetes types</a></li>
<li><a href="https://github.com/errordeveloper/kubeplay">Kubeplay</a></li>
<li><a href="https://github.com/maxmanuylov/terraform-provider-kubernetes">Terraform</a></li>
<li><a href="https://github.com/fkorotkov/k8s-kotlin-dsl">Kotlin DSL</a></li>
<li><a href="https://github.com/doriordan/skuber">Skuber</a> (Scala DSL for Kubernetes)</li>
</ul>

<p>Obviously <a href="https://puppet.com/blog/managing-kubernetes-configuration-puppet">I wrote one of these</a>
so I&rsquo;m biased but different tools work for different people and in different
contexts. For example Skuber looks nice but I mainly don&rsquo;t like Scala. And
I&rsquo;ve been using Jsonnet for Packer templates recently with success, so I&rsquo;m
very interested in kubecfg which provides a nice Kubernetes wrapper to that
tool.</p>

<p>Ultimately this is still a developing space, but compared to a year ago it is
now definitely moving. For me, I hope the default for managing Kubernetes
configuration slowly but surely switches away from just hand rolling data.
Towards what, only time and people reporting what works for them will tell.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2017/01/01/republishing-service-manual-content/">Republishing service manual content</a>
      </h1>
      <span class="post-date">Jan 1, 2017 &middot; 2 minute read
      </span>
      
      <p>One of the many things I did some work on while at
<a href="https://gds.blog.gov.uk/">GDS</a> back in 2013 was the <a href="https://www.gov.uk/service-manual">Government Service Design
Manual</a>. This was intended to be a
central resource for teams across (and outside) Government about how to
go about building, designing and running modern internet-era services.
It was a good snapshot of opinions from the people that made up GDS on a
wide range of different topics. Especially for the people who spent time
in the field with other departments, having an official viewpoint published
publicly was hugely helpful.</p>

<p>Recently the Service Manual <a href="https://gds.blog.gov.uk/2016/12/19/introducing-the-next-stage-of-the-service-manual/">got a bit of a relaunch</a>
but unfortunately this involved deleting much of the content about
operations and running a service. Even more unfortunately the service
manual is now described as something that:</p>

<blockquote>
<p>exists to help people across government build services that meet the
Digital Service Standard and prepare for service assessments.</p>
</blockquote>

<p>So in basic terms it&rsquo;s refocusing on helping people pass the exam rather
than being all about learning. Which is a shame. Compare that with the
original intent:</p>

<blockquote>
<p>Build services so good that people prefer to use them</p>
</blockquote>

<p>However, all that content is not lost. Luckily the content is <a href="https://github.com/alphagov/government-service-design-manual">archived on GitHub</a>
and was published under the terms of the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open Government License</a>
which allows for anyone to <em>&ldquo;copy, publish, distribute and transmit the Information&rdquo;</em>.
So I&rsquo;m choosing to republish a few of the pieces I wrote and found
useful when talking to and assisting other Government departments. These
represent an interesting snapshot from a few years ago, but I think
mainly stand the test of time, even if I&rsquo;d change a few things if I
wrote them today.</p>

<ul>
<li><a href="https://www.morethanseven.net/2017/01/01/what-is-devops/">What is
Devops?</a></li>
<li><a href="https://www.morethanseven.net/2017/01/01/agile-and-it-service-management/">Agile and IT Service Management</a></li>
<li><a href="https://www.morethanseven.net/2017/01/01/user-stories-for-web-operations/">User stories for web operations teams</a></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2017/01/01/what-is-devops/">What is Devops?</a>
      </h1>
      <span class="post-date">Jan 1, 2017 &middot; 4 minute read
      </span>
      
      

<p><em>This post was originally written as part of the Government Service
Design Manual while I was working for the UK Cabinet Office. Since my
original in 2013 it was improved upon <a href="https://github.com/alphagov/government-service-design-manual/blob/master/service-manual/operations/devops.md">by several
others</a>
I&rsquo;m republishing it here under the terms of the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open Government
licence</a>.</em></p>

<p>Devops is a cultural and professional movement in response to the
mistakes commonly made by large organisations. Often organisations will
have very separate units for:</p>

<ul>
<li>development</li>
<li>quality assurance</li>
<li>operations business</li>
</ul>

<p>In extreme cases these units may be:</p>

<ul>
<li>based in different locations</li>
<li>work for different organisations</li>
<li>under completely different management structures</li>
</ul>

<p>Communication costs between these units, and their individual
incentives, leads to slow delivery and a mountain of interconnected
processes.</p>

<p>This is what Devops aims to correct. It is not a methodology or
framework, but a set of principles and a willingness to break down
silos. Specifically Devops is all about:</p>

<ul>
<li><a href="#culture">culture</a></li>
<li><a href="#automation">automation</a></li>
<li><a href="#measurement">measurement</a></li>
<li><a href="#sharing">sharing</a></li>
</ul>

<h3 id="culture">Culture</h3>

<p>Devops needs a change in attitude so shared ownership and collaboration
are the common working practices in building and managing a service.
This culture change is especially important for established
organisations.</p>

<h3 id="automation">Automation</h3>

<p>Many business processes are ready to be automated. Automation removes
manual, error-prone tasks &ndash; allowing people to concentrate on the
quality of the service. Common areas that benefit from automation are:</p>

<ul>
<li>release management (releasing software)</li>
<li>provisioning</li>
<li>configuration management</li>
<li>systems integration</li>
<li>monitoring</li>
<li>orchestration (the arrangement and maintenance of complex computer
systems)</li>
<li>testing</li>
</ul>

<h3 id="measurement">Measurement</h3>

<p>Data can be incredibly powerful for implementing change, especially when
it’s used to get people from different groups involved in the quality of
the end-to-end service delivery. Collecting information from different
teams and being able to compare it across former silos can implement
change on its own.</p>

<h3 id="sharing">Sharing</h3>

<p>People from different backgrounds (ie development and operations) often
have different, but overlapping skill sets. Sharing between groups will
spread an understanding of the different areas behind a successful
service, so encourage it. Resolving issues will then be more about
working together and not negotiating contracts.</p>

<h2 id="why-devops">Why Devops</h2>

<p>The quality of your service will be compromised if teams can&rsquo;t work
together, specifically:</p>

<ul>
<li>those who build and test software</li>
<li>those that run it in production</li>
</ul>

<p>The root cause is often functional silos; when one group owns a specific
area (say quality) it’s easy for other areas to assume that it’s no
longer their concern.</p>

<p>This attitude is toxic, especially in areas such as:</p>

<ul>
<li>quality</li>
<li>release management</li>
<li>performance</li>
</ul>

<p>High quality digital services need to be able to adapt quickly to user
needs, and this can only happen with close collaboration between
different groups.</p>

<p>Make sure the groups in your team:</p>

<ul>
<li>have a shared sense of ownership of the service</li>
<li>have a shared sense of the problem</li>
<li>develop a culture of making measurable improvements to how things work</li>
</ul>

<h2 id="good-habits">Good habits</h2>

<p>Devops isn’t a project management methodology, but use these good habits
in your organisation. While not unique to Devops, they help with
breaking down silos when used with the above principles:</p>

<ul>
<li>cross-functional teams &ndash; make sure your
teams are made up of people from different functions (this helps with
the team owning the end-to-end quality of service and makes it easier to
break down silos)</li>
<li>widely shared metrics &ndash; it’s important
for everyone to know what ‘good’ looks like so share high and low
level metrics as widely as possible as it builds understanding</li>
<li>automating repetitive tasks &ndash; use software development to automate
tasks across the service as it:

<ul>
<li>encourages a better understanding of the whole service</li>
<li>frees up smart people from doing repetitive manual tasks</li>
</ul></li>
<li>post-mortems &ndash; issues will happen so it’s critical that everyone
across different teams learns from them; running post-mortems (an
analysis session after an event) with people from different groups is a
great way of spreading knowledge</li>
<li>regular releases
&ndash; the capacity for releasing software is often limited in siloed
organisations, because the responsibilities of the different parts of
the release are often spread out across teams &ndash; getting to a point
where you can release regularly (even many times a day) requires extreme
collaboration and clever automation</li>
</ul>

<h2 id="warning-signs">Warning signs</h2>

<p>Like agile, the term Devops is often used for marketing or promotional
purposes. This leads to a few common usages, which aren’t necessarily in
keeping with what’s been said here. Watch out for:</p>

<ul>
<li>Devops tools (nearly always marketing)</li>
<li>a Devops team (in many cases this is just a new silo of skills and
knowledge)</li>
<li>Devops as a job title (you wouldn’t call someone “an agile”)</li>
</ul>

<h2 id="further-reading">Further reading</h2>

<ul>
<li><a href="https://www.chef.io/blog/2010/07/16/what-devops-means-to-me/">What Devops Means to
Me</a></li>
<li><a href="http://www.jedi.be/blog/2010/02/12/what-is-this-devops-thing-anyway/">What is this Devops thing
anyway?</a></li>
<li><a href="http://dev2ops.org/2010/02/what-is-devops/">What is Devops? (and the wall of
confusion)</a></li>
<li><a href="http://continuousdelivery.com/2012/10/theres-no-such-thing-as-a-devops-team/">There’s no such thing as a &ldquo;Devops
Team&rdquo;</a></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2017/01/01/agile-and-it-service-management/">Agile and IT service management</a>
      </h1>
      <span class="post-date">Jan 1, 2017 &middot; 6 minute read
      </span>
      
      

<p><em>This post was originally written as part of the Government Service
Design Manual while I was working for the UK Cabinet Office. Since my
original in 2013 it was improved upon <a href="https://github.com/alphagov/government-service-design-manual/blob/master/service-manual/operations/service-management.md">by several
others</a>
I&rsquo;m republishing it here under the terms of the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open Government
licence</a>.</em></p>

<p>The Digital by Default standard
says that organisations should (emphasis on <em>operate</em> added):</p>

<blockquote>
<p>Put in place a sustainable multidisciplinary team that can design, build
and <em>operate</em> the service, led by a suitably skilled and senior service manager
with decision-making responsibility.</p>
</blockquote>

<p>This implies a change to how many organisations have traditionally run services,
often with a team or organisation building a service separate from the one running it.
This change however does not mean ignoring existing good practice when it comes to service
management.</p>

<h2 id="agile-and-service-management">Agile and service management</h2>

<p>The principles of IT service management (ITSM) and those of agile do not necessarily
conflict &ndash; issues can arise however when organisations implement rigid processes
without considering wider service delivery matters, or design and build services
without thinking about how they will be operated.</p>

<p>The <a href="http://agilemanifesto.org/">agile manifesto</a> makes the case for:</p>

<ul>
<li>Individuals and interactions over processes and tools</li>
<li>Working software over comprehensive documentation</li>
<li>Customer collaboration over contract negotiation</li>
<li>Responding to change over following a plan</li>
</ul>

<p>It is too easy to position service management as opposed to agile as
traditional service management practices can be viewed as focusing on processes, tools,
documentation, planning and contract negotiation &ndash; the items on the right hand
side of the points above.</p>

<p>However, the agile manifesto goes on to say:</p>

<blockquote>
<p>That is, while there is value in the items on the right, we
value the items on the left more.</p>
</blockquote>

<p>To build and run a successful service you will need to work on suitable
processes and manage third party relationships. Using existing service management
frameworks (especially as a starting point) is one approach to this problem.</p>

<h2 id="itil">ITIL</h2>

<p><a href="https://www.axelos.com/itil">ITIL</a> (the Information Technology Infrastructure
Library) is one such framework. ITIL does a particularly good job of facilitating shared
language. For instance it&rsquo;s definition of a service is:</p>

<blockquote>
<p>A service is a means of delivering value to customers by facilitating outcomes
customers want to achieve.</p>
</blockquote>

<p>The current version of ITIL currently provides 5 volumes and 26 processes
describing in detail various aspects of service management:</p>

<h3 id="service-strategy">Service Strategy</h3>

<ul>
<li>IT service management</li>
<li>Service portfolio management</li>
<li>Financial management for IT services</li>
<li>Demand management</li>
<li>Business relationship management</li>
</ul>

<h3 id="service-design">Service Design</h3>

<ul>
<li>Design coordination</li>
<li>Service Catalogue management</li>
<li>Service level management</li>
<li>Availability management</li>
<li>Capacity Management</li>
<li>IT service continuity management</li>
<li>Information security management system</li>
<li>Supplier management</li>
</ul>

<h3 id="service-transition">Service Transition</h3>

<ul>
<li>Transition planning and support</li>
<li>Change management</li>
<li>Service asset and configuration management</li>
<li>Release and deployment management</li>
<li>Service validation and testing</li>
<li>Change evaluation</li>
<li>Knowledge management</li>
</ul>

<h3 id="service-operation">Service Operation</h3>

<ul>
<li>Event management</li>
<li>Incident management</li>
<li>Request fulfillment</li>
<li>Problem management</li>
<li>Identity management</li>
</ul>

<h3 id="continual-service-improvement">Continual Service Improvement</h3>

<h3 id="functions">Functions</h3>

<p>ITIL also describes four functions that should cooperate together to form
an effective service management capability.</p>

<ul>
<li>Service operations</li>
<li>Technical management</li>
<li>Application management</li>
<li>Operations management</li>
</ul>

<h2 id="the-importance-of-implementation">The importance of implementation</h2>

<p>The above processes and functions make for an excellent high level list of topics
to discuss when establishing an operating model for your service, whether
or not you adopt the formal methods. In many cases if you have well understood,
well established and well documented processes in place for all of the above
you should be in a good position to run your service.</p>

<p>When looking to combine much of the rest of the guidance on the service manual
with ITIL or other service management frameworks it is important to challenge
existing implementations. This is less about the actual implementation and more often
about the problems that implementation was designed to originally solve.</p>

<h3 id="an-example-service-transition">An example &ndash; service transition</h3>

<p>As an example ITIL talks a great deal about Service Transition &ndash; getting working functionality
into the hands of the users of the service. This is a key topic for The Digital Service Standard
too which says that teams should:</p>

<blockquote>
<p>Make sure that you have the capacity and technical flexibility to update and
improve the service on a very frequent basis.</p>
</blockquote>

<p><a href="https://www.gov.uk">GOV.UK</a> for instance made more than 100 production releases
<a href="https://gds.blog.gov.uk/2012/11/02/regular-releases-reduce-risk/">during its first two weeks</a> after launch.</p>

<p>This high rate of change tends to challenge existing processes designed for a
slower rate of change. If you are releasing your service every month or every 6 months
then a manual process (like a weekly or monthly in-person change approval board or CAB) may be
the most suitable approach. If you&rsquo;re releasing many times a day then the approach to how
change is evaluated, tested and managed tends towards being more automated. This
moves effort from occasional but manual activities to upfront design and automation
work. More work is put in to assure the processes rather than putting all the effort
into assuring a specific <em>transition</em>.</p>

<p>Service management frameworks tend to acknowledge this, for instance ITIL has a
concept of a standard change (something commonly done, with known risks
and hence pre-approved), but a specific implementation in a given organisation
might not.</p>

<h2 id="other-frameworks-exist">Other frameworks exist</h2>

<p>It is important to note that other service management frameworks and standards
exist, including some that are of a similar size and scope to ITIL:</p>

<ul>
<li><a href="https://en.wikipedia.org/wiki/ISO/IEC_20000">ISO/IEC 20000</a></li>
<li><a href="https://www.microsoft.com/MOF">Microsoft Operations Framework</a></li>
</ul>

<p>Many organisations also use smaller processes and integrate them together.
The needs of your service and organisation will determine what works best for you.</p>

<h2 id="problematic-concepts">Problematic concepts</h2>

<p>Some traditional language tends to cause some confusion when discussing service
management alongside agile. It&rsquo;s generally best to avoid the following terms when possible,
although given their widespread usage this isn&rsquo;t always possible. It is however worth
being aware of the problems these concepts raise.</p>

<h3 id="projects">Projects</h3>

<p>Projects tend to imply a start and an end. The main goal of project work is to
complete it, to reach the end. Especially for software development the project can
too often be viewed as <em>done</em> when the software is released. What happens after that
is another problem entirely &ndash; and often someone else&rsquo;s problem.</p>

<p>However when building services the main goal is to meet user needs
These needs may change over time, and are only met by software that is running in
production and available to those users.</p>

<p>This doesn&rsquo;t mean not breaking work down into easily understandable parts, but stories,
sprints and epics are much more
suited to agile service delivery.</p>

<h3 id="business-as-usual">Business as usual</h3>

<p>The concept of business as usual also clashes with a model of continuous
service improvement. It immediately brings to mind before and after
states, often with the assumption that change is both much slower and
more constrained during <em>business as usual</em>. In reality, until you put your
service in the hands of real users as part of an alpha
or beta you won&rsquo;t have all the information
needed to build the correct service. And even once you pass the live standard
you will be expected to:</p>

<blockquote>
<p>continuously update and improve the service on the basis of user feedback,
performance data, changes to best practice and service demand</p>
</blockquote>

<h2 id="further-reading">Further reading</h2>

<ul>
<li><a href="http://www.slideshare.net/nuwulang/functions-in-service-operation">Functions in service management</a></li>
<li><a href="https://en.wikipedia.org/wiki/ITIL">ITIL on Wikipedia</a></li>
<li><a href="http://www.best-management-practice.com/gempdf/itsmf_an_introductory_overview_of_itil_v3.pdf">Introduction to ITIL v3</a></li>
<li><a href="http://blog.ingineering.it/post/59414765140/itil-vs-devops-slugfest-or-lovefest">Discussion of Devops and ITIL</a></li>
<li><a href="http://changeandrelease.com/2014/04/05/devops-and-itil-continuous-delivery-doesnt-stop-at-software/">Discussion of ITIL and Continuous Delivery</a></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2017/01/01/user-stories-for-web-operations/">User stories for web operations teams</a>
      </h1>
      <span class="post-date">Jan 1, 2017 &middot; 21 minute read
      </span>
      
      

<p><em>This post was <a href="https://github.com/alphagov/government-service-design-manual/blob/master/service-manual/operations/web-operations-stories.md">originally written</a>
as part of the Government Service Design Manual while I was working for the UK
Cabinet Office in 2013. I&rsquo;m republishing it here under the terms of the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open
Government licence</a>.</em></p>

<p>This document outlines the typical scope of infrastructure and web operations
(sometimes erroneously referred to as hosting) work on a large service
redesign project.</p>

<p>The sample list of user stories provided is not intended to be a complete list of
all areas of interest nor are you likely to need to do all of this for every service.
The idea is for this list to be a good starting place from where to you can write
additional stories, delete ones you do not require and split stories into smaller
ones. Importantly you also need to provide your own acceptance criteria
specific to the needs of your service.</p>

<p>Remember these stories are a placeholder for a conversation.
For some contexts, that conversation will be &lsquo;this does not apply to my
service&rsquo; &ndash; that is fine. But there will almost certainly be other stories not
listed here which do apply.</p>

<h2 id="the-problem">The problem</h2>

<p>An issue we have observed on a number of projects is a lack of understanding
early on in a project about the work required to run a large online
service. Often this is placed under  <em>hosting</em> and is investigated too late
in the process.</p>

<h2 id="intended-audience">Intended audience</h2>

<p>The hosting of a complex and sensitive software application requires a team
of people with specialist skills to design, setup and operate. Because this
work is generally not user facing and can be highly technical it is sometimes
easy to leave until later &ndash; with potentially dire consequences for launching
safely and on time.</p>

<h3 id="service-managers">Service managers</h3>

<p>Does your team have people who deeply understand this topic? If you are not an
expert then it is important to involve people permanently in the team
who are. They can explain the technical trade offs and decisions which may
affect your service.</p>

<h3 id="delivery-managers">Delivery managers</h3>

<p>As well as understanding the potentially large scope of work, many of the areas
discussed here have lead times associated with third parties. The earlier
stories related to these topics are brought into project backlogs the sooner
estimates can be made and deadlines understood.</p>

<h2 id="stories">Stories</h2>

<p>The following stories are intended to provide a starting point for any project,
rather than be a complete set. Individual projects would be expected to take
and modify stories as needed and importantly to apply their own acceptance
criteria specific to their requirements.</p>

<p>The majority of these stories are from the point of view of developers, web
operations engineers and the responsible service manager. Although not ideal,
for this particular technical topic this works reasonably well. Feel free
to change the focus when using them in your backlog.</p>

<h3 id="process">Process</h3>

<p><em>Development process</em><br />
As a developer working on the service<br />
So that we can ensure a high level of quality<br />
And so we can maximise the integrity of the source code<br />
I want a well documented and understood development process</p>

<p><em>Out-of-hours support</em><br />
As the service manager responsible for the service<br />
So that we can ensure a suitable level of availability and integrity<br />
I want to understand the requirement for Out-of-hours support</p>

<p><em>Disaster recovery</em><br />
As the service manager responsible for the service<br />
So that in the event of a disaster everyone doesn&rsquo;t panic and make things up<br />
I want a clear disaster recovery plan in place to deal with different types of catastrophic event</p>

<p><em>Release process</em><br />
As the service manager responsible for the service<br />
So that the service can be changed on a very frequent basis<br />
And so that changes do not cause problems for users<br />
I want a well documented and understood release process</p>

<p><em>Security response</em><br />
As the service manager responsible for the service<br />
So that security incidents are handled with extra care<br />
And so that the service meets its wider Government obligation to GovCert<br />
I want a well documented and understood security incident process</p>

<p><em>Helpdesk</em><br />
As the service manager responsible for the service<br />
So that communication with users is done in a joined up way<br />
I want a central helpdesk function to deal with events, incidents and requests</p>

<p><em>Request Management</em><br />
As the service manager responsible for the service<br />
So that questions from users can be dealt with efficiently<br />
I want a clear information request management policy</p>

<p><em>Event Management</em><br />
As the service manager responsible for the service<br />
So that likely events that could affect the running of the service can be dealt with smoothly<br />
I want a clear event management policy</p>

<p><em>Incident Management</em><br />
As the service manager responsible for the service<br />
So that problems that arise with that service can be dealt with efficiently<br />
I want a clear incident management policy</p>

<p><em>Operations manual</em><br />
As the service manager responsible for the service<br />
So that information about the running of the service is not kept in individuals’ heads<br />
And so information is readily available to people running the service<br />
I want a single place to store content for a service operations manual</p>

<h3 id="shared-service">Shared service</h3>

<p><em>Source code hosting</em><br />
As a developer working on the service<br />
So we have somewhere to securely store our source code<br />
I want access to a central source code hosting service or repository</p>

<p><em>Continuous Integration</em><br />
As a developer working on the service<br />
So we can ensure a high level of quality in the code<br />
And so we can minimise the time needed for regression testings<br />
I want a Continuous Integration environment which automatically runs tests against every commit</p>

<p><em>External DNS</em><br />
As a web operations engineer<br />
So that visitors to the service don&rsquo;t need to remember an IP address that will change<br />
I want a process and supplier relationship to manage external DNS addresses</p>

<h3 id="policy">Policy</h3>

<p><em>Sensitivity of source code</em><br />
As a developer working on the service<br />
So that I understand the controls that need to be in place<br />
And so that I know who and how I may share it<br />
I want a clear policy around the sensitivity of source code</p>

<p><em>Third party code</em><br />
As a developer working on the service<br />
I want a clear policy around use of third party source code libraries<br />
So that I do not introduce unknown security problems</p>

<p><em>Change evaluation</em><br />
As the service manager responsible for the service<br />
So that I can release changes to production quickly<br />
And so that we can meet our obligation to the Digital by Default Service Standard<br />
I want a documented process for evaluating and deciding on a change to the production service</p>

<p><em>Access control</em><br />
As the service manager responsible for the service<br />
So that the confidentiality, integrity and availability of the service isn&rsquo;t compromised<br />
And so that suitable technical controls can be put in place to enforce it<br />
I want a clear policy on who has access to what on the production system</p>

<p><em>Separation of duties</em><br />
As the service manager responsible for the service<br />
So that we can ensure the service has enough people in the right roles<br />
I want to understand any required separation of duties (whether driven by legislation or security concerns)</p>

<p><em>Clearances</em><br />
As the service manager responsible for the service<br />
So that security clearances can be arranged early in the project to avoid access restrictions later on<br />
I want to know what level of clearances are required for different roles (including third parties)</p>

<p><em>Releasing open source</em><br />
As a developer working on the service<br />
So that I do not introduce unknown security problems<br />
And so that we can meet our obligation to the Digital by Default Service Standard<br />
I want a clear policy around releasing code as open source</p>

<h3 id="design">Design</h3>

<p><em>Government networks</em><br />
As a technical architect<br />
So that the right suppliers are contracted<br />
And so that long lead times are factored into the project plan early<br />
I want to know whether the service requires access to a Government network like the PSN or GSI</p>

<p><em>Multiple infrastructure providers</em><br />
As the service manager for this service<br />
So that I understand the intended availability constraints<br />
I want to know whether multiple suppliers of Infrastructure are required</p>

<p><em>Capacity planning</em><br />
As a web operations engineer<br />
So that we can estimate the number and size of infrastructure components (instances, firewalls, load balancers etc.)<br />
And so that resource based costs can be estimated<br />
I want to carry out some capacity planning activities</p>

<p><em>Network architecture</em><br />
As a technical architect<br />
So that I can build out a production environment to an agreed specification<br />
I want a network architecture design</p>

<h3 id="components">Components</h3>

<p><em>Web servers</em><br />
As a web operations engineer working on the service<br />
So that we can serve HTTP request<br />
And so we can proxy requests to application servers<br />
I want to install and configure a web server</p>

<p><em>Databases</em><br />
As a web operations engineer working on the service<br />
So that data can be stored in a manner befitting its structure<br />
And so the stored data can be queried as quickly as required<br />
I want to install and configure a suitable database server</p>

<p>As a web operations engineer working on the service<br />
So that data can still be read even during a failure of a single database server<br />
I want to configure some failover or other redundancy mechanism for the database</p>

<p>As a web operations engineer working on the service<br />
So that data can still be written even during a failure of a single database server<br />
I want to configure some failover or other redundancy mechanism for the database</p>

<p><em>Load balancers</em><br />
As a web operations engineer working on the service<br />
So that web requests can still be served even with the failure of one or more web servers<br />
I want to install and/or configure a load balancer</p>

<p><em>Internal DNS</em><br />
As a web operations engineer working on the service<br />
So that we can easily address our services and instances<br />
I want to install and/or configure a mechanism to manage internal DNS</p>

<p><em>Database backups</em><br />
As the service manager for the service<br />
So that we can recover from a large failure of our database infrastructure<br />
I want regular automated backups to be taken of the data stored in the database</p>

<p>As the service manager for the service<br />
So that we can recover from a large failure of a single suppliers infrastructure<br />
I want regular automated backups to be stored off site</p>

<p><em>HTTP cache</em><br />
As a web operations engineer working on the service<br />
So that the service remains fast when serving identical content<br />
And so load is minimised on the application servers<br />
I want to install an HTTP cache</p>

<p><em>Email gateway</em><br />
As a developer working on the service<br />
So that the service can send email to administrators or end users<br />
I want to setup and configure a suitable email gateway</p>

<p><em>Application servers</em><br />
As a developer working on the service<br />
So that the code I write can be run on server instances<br />
I want to install and configure a suitable application server</p>

<p><em>Internal package repository</em><br />
As a web operations engineer working on the service<br />
So that we can use software not available in our operating system repositories<br />
And so that we can use the security, dependency management and versioning features<br />
I want to install and configure an internal package repository</p>

<p><em>Artifact repository</em><br />
As a developer working on the service<br />
So that we can share and version individual code components that need it<br />
I want to install and configure an artifact repository</p>

<p><em>Message queue</em><br />
As a developer working on the service<br />
So that I can easily and efficiently process work asynchronously<br />
I want to install and configure a suitable message queue or work queue system</p>

<p><em>Search server</em><br />
As a developer working on the service<br />
So that I can quickly and efficiently search through large amounts of data<br />
I want to install and configure a suitable search engine</p>

<p><em>Object cache</em><br />
As a developer working on the service<br />
So that I can minimise the number of queries to the database<br />
And so that I can keep the service fast and responsive to users<br />
I want to install and configure a object caching system</p>

<h3 id="monitoring">Monitoring</h3>

<p><em>Metric collection service</em><br />
As a web operations engineer working on the service<br />
So that we can collect large numbers of time series metrics from the running service<br />
I want to install and configure a metric collection system</p>

<p><em>Application running monitoring checks</em><br />
As a web operations engineer working on the service<br />
So that we can run checks against metrics from the metrics system<br />
And so that we can run active checks based on arbitrary code<br />
I want to install and configure a monitoring system</p>

<p><em>Smoke tests</em><br />
As a developer working on the service<br />
So that I know that I haven’t broken anything when deploying my application<br />
I want a series of smoke tests to be run after all deployments</p>

<p><em>Application metrics</em><br />
As a developer working on the service<br />
So that I can gain visibility of how my application is running in production<br />
And so we can find and fix problems with it quickly<br />
I want a simple way of instrumenting my application to feed metrics to the metrics system</p>

<p><em>System metrics</em><br />
As a web operations engineer working on the service<br />
So that we can identify and fix problems with the system, ideally before they occur<br />
I want to set up collection of low level system metrics like load, disk, network io, etc.</p>

<p><em>Security monitoring</em><br />
As a web operations engineer working on the service<br />
So that we notice quickly and are alerted to any incidents with a security flavour<br />
I want to configure suitable security monitoring tools</p>

<p><em>Notifications</em><br />
As a web operations engineer or developer supporting the service<br />
So that I know about any issues as they happen<br />
I want to set up suitable notifications from the monitoring system</p>

<p><em>Transactional monitoring</em><br />
As a developer working on a transactional service<br />
So that we can block fraudulent or otherwise suspect transactions<br />
I want to install and configure a transactional monitoring system with suitable rules</p>

<p><em>External monitoring</em><br />
As the service manager for the service<br />
So that in the event of a failure of the monitoring system<br />
And so that the service is monitoring from outside our local network<br />
I want an external monitoring capability with basic checks to monitoring service uptime</p>

<p><em>Monitoring data feed from infrastructure provider</em><br />
As a web operations engineer working on the service<br />
So that I am aware of problems in the hypervisor, physical or network infrastructure<br />
I want a feed of monitoring data from the Infrastructure supplier</p>

<h3 id="logging">Logging</h3>

<p><em>Log collection</em><br />
As a web operations engineer working on the service<br />
So that I can easily see everything that is happening in specific applications<br />
I want to collect all the logs from applications running on the same host in one place</p>

<p><em>Log aggregation</em><br />
As a web operations engineer working on the service<br />
So that I don&rsquo;t have to go to an individual machine to view its logs<br />
I want all logs from all machines to be aggregated together</p>

<p><em>Log storage</em><br />
As a web operations engineer working on the service<br />
So that logs can be kept for a suitable period of time<br />
I want to provision enough storage for log archiving</p>

<p><em>Log viewing</em><br />
As a web operations engineer working on the service<br />
So that I can see what is happening across the infrastructure<br />
I want a mechanism for viewing and searching logs in as near real time as possible</p>

<p>As a developer working on the service<br />
So that I can extract information from logs to aid with improving the service<br />
I want a mechanism to run queries across the aggregated logs</p>

<h3 id="configuration-management">Configuration management</h3>

<p><em>Configuration management client</em><br />
As a web operations engineer working on the service<br />
So that changes to server configuration can be made safely and quickly<br />
I want to install software to manage configuration management</p>

<p><em>Configuration management database</em><br />
As a web operations engineer working on the service<br />
So that configuration changes are tracked over time<br />
And so that current state of available to query<br />
I want to install software to manage a configuration management database</p>

<p><em>Configuration management server</em><br />
As a web operations engineer working on the service<br />
So that all nodes do not have all configuration information<br />
I want to install software to allow centralised management of Configuration management code</p>

<h3 id="deployment">Deployment</h3>

<p><em>Configuration management code deployment mechanism</em><br />
As a web operations engineer working on the service<br />
So that configuration changes can be made safely and in an auditable manner<br />
I want a deployment process and tooling for configuration management code</p>

<p><em>Application deployment mechanism</em><br />
As a developer working on the service<br />
So that changes to applications can be made available to users<br />
And so that changes are made in a safe and auditable manner<br />
I want a deployment process and tooling for application code</p>

<p><em>Release tracking</em><br />
As the service manager for the service<br />
So that we have an auditable log of what was changed when by whom<br />
I want an up-to-date list of releases to be maintained</p>

<p><em>Packaging</em><br />
As a web operations engineer working on the service<br />
So that we don’t have to compile customised applications from source before using them<br />
And so we can take advantage of dependency and version management capabilities of the OS<br />
I want a process and tooling for creating our own system packages</p>

<p><em>Orchestration</em><br />
As a web operations engineer working on the service<br />
So that I can run commands across multiple instances quickly<br />
I want tooling in place which allows some orchestration based on the current instances</p>

<p><em>Database migrations</em><br />
As a web operations engineer working on the service<br />
So that I can have confidence that database migration scripts will work when applied to production<br />
I want database migrations to be deployed through the same sequence of environments as code changes</p>

<p><em>Management of secrets</em><br />
As a web operations engineer working on the service<br />
So that I can ensure confidential communication between particular parts of the system<br />
I want a process or tool for managing secrets such as keys and passwords</p>

<h3 id="access-control">Access control</h3>

<p><em>End user devices</em><br />
As the service manager responsible for the service<br />
So that management access to the infrastructure can be locked down to prevent unauthorised access<br />
I want to know what kind of protection the management end user devices require</p>

<p><em>User directory</em><br />
As a web operations engineer<br />
So that we do not have to maintain multiple lists of privileged users<br />
And so that users can be added and removed once in a central fashion<br />
I want to install and configure something to provide a single user directory</p>

<p><em>Key based authentication</em><br />
As a web operations engineer<br />
So that we are not vulnerable to password based login attempts to individual servers<br />
I want to set-up public key based authentication</p>

<p><em>Single sign-on</em><br />
As a web operations engineer<br />
So that any third party web interfaces we use can be accessed via a single login<br />
I want to install and configure a single sign-on systems</p>

<p><em>Network/VPN configuration</em><br />
As a web operations engineer<br />
So that management functions can not be accessed via the public internet<br />
And so that we reduce the surface area for attack<br />
I want to restrict management access to a VPN and/or non-public restricted network</p>

<h3 id="provisioning">Provisioning</h3>

<p><em>Other environments</em><br />
As the service manage for the service<br />
So that I can see the very latest working version of the service at any time<br />
And so I can share that with people in and outside the team<br />
I want a preview environment to be provisioned which is similar to production</p>

<p>As a web operations engineer working on the service<br />
So that the we have a clean environment in which to test production deployments<br />
And so that we have a secure environment to test with production-like data<br />
I want to provision a staging environment which mimics production as closely as possible</p>

<p><em>Production environment</em><br />
As a web operations engineer working on the service<br />
So that the service can launch to the public<br />
I want to provision a production environment</p>

<p><em>Base image(s)</em><br />
As a web operations engineer working on the service<br />
So that all server instances start out with sensible security settings<br />
I want to create a base image running the chosen operating system with hardened configuration</p>

<p><em>Public network interfaces</em><br />
As a web operations engineer working on the service<br />
So that the application only receives wanted traffic from the internet<br />
And so that we don’t accidentally expose sensitive or insecure components of the system<br />
I want to configure and test the public network interfaces for the system</p>

<p><em>Private network configuration</em><br />
As a web operations engineer working on the service<br />
So that individual internal components can only talk with known parts of the system<br />
And so we limit the extent of any security breach<br />
I want to configure and test the private network interfaces for the system</p>

<p><em>Network codes of connection</em><br />
As a web operations engineer working on the service<br />
Given I need to communicate with a system only available on a Government network<br />
So that the two systems can talk with each other<br />
I want to meet the code of connection requirements and configure access to the network</p>

<p><em>Management network</em><br />
As a web operations engineer working on the service<br />
So that network traffic used to manage the infrastructure is separate from public traffic<br />
And so we can monitor irregularities in network traffic separately<br />
I want to configure a separate management network</p>

<p><em>Platform load balancers</em><br />
As a web operations engineer working on the service<br />
So that we can reduce the number of single points of failure<br />
And so that we can scale out to deal with a large amount of traffic<br />
I want to provision load balancers to distribute traffic between multiple instances</p>

<p><em>Platform firewalls</em><br />
As a web operations engineer working on the service<br />
So that unwanted traffic can be filtered before it enters our virtual infrastructure<br />
I want to configure the external facing IaaS firewalls to only allow certain traffic</p>

<p><em>Dynamic environments</em><br />
As a web operations engineer working on the service<br />
So that we are not constrained by a fixed number of environments<br />
And so we can easy run full stack tests or experiments<br />
I want to be able to easily provision an environment running the full service</p>

<p><em>Elastic scaling</em><br />
As a web operations engineer working on the service<br />
So that the service can automatically deal with unexpected increases in traffic<br />
I want to configure tooling to automatically scale the number of instances based on load</p>

<h3 id="security-controls">Security controls</h3>

<p><em>Operating system hardening</em><br />
As a web operations engineer<br />
So that we are making use of built-in operating system security controls<br />
I want to automate a default set of hardening rules for our chosen operating system</p>

<p><em>Malware detection</em><br />
As a web operations engineer<br />
So that instances which may be compromised can be dealt with quickly<br />
I want to automate the detection of potential malware</p>

<p><em>Intrusion detection</em><br />
As a web operations engineer<br />
So that instances which are being attacked or probed can defend themselves<br />
I want to configure an intrusion detection and prevention system</p>

<p><em>Virus scanning</em><br />
As a web operations engineer<br />
So we can be sure that files in the system don&rsquo;t have viruses<br />
I want to install virus scanning for files passing a network boundary</p>

<p><em>Host firewalls</em><br />
As a web operations engineer<br />
So that the surface area for attack is limited<br />
And so that services which should only be available locally aren&rsquo;t exposed on the internet<br />
I want to install and configure a local firewall</p>

<p><em>On instance event auditing</em><br />
As a web operations engineer<br />
So that I know when things like logins or other sensitive events happen on instances<br />
I want to set-up some auditing of events</p>

<p><em>Rate/connection limiting</em><br />
As a web operations engineer<br />
So that large spikes in traffic from a single source don&rsquo;t overwhelm application<br />
I want to configure some level of rate and connection limiting for web requests</p>

<p><em>Secure storage of key material</em><br />
As a web operations engineer<br />
So that any highly sensitive cryptographic keys are not lost, resulting in a compromise<br />
I want to have a mechanism in place to securely store key material</p>

<p><em>Third party DDoS protection</em><br />
As a web operations engineer<br />
So that a the site does not go down under a denial of service attack<br />
I want to purchase and/or configure a level of DDoS protection</p>

<h3 id="testing">Testing</h3>

<p><em>Performance testing</em><br />
As the service manager responsible for the service<br />
So that we know the service will be fast and responsive under realistic traffic<br />
I want to be able to run a comprehensive performance test suite against the service</p>

<p><em>As a developer working on the service</em><br />
So that we know changes to the code do not negatively affect performance<br />
I want the performance test suite to run as part of the continuous integration system</p>

<p><em>Load testing</em><br />
As the service manager responsible for the service<br />
So that we know the service will still be working under larger amounts of traffic than are expected<br />
I want to be able to run a comprehensive load test suite against the service</p>

<p><em>Application penetration testing</em><br />
As the service manager responsible for the service<br />
So that the service does not get compromised due to a vulnerability<br />
And so we meet our accreditation obligations<br />
I want to run a suitable number of penetration tests against the applications under development</p>

<p><em>As the service manager responsible for the service</em><br />
So that the service does not get compromised due to a vulnerability<br />
And so we meet our accreditation obligations<br />
I want to run a suitable number of penetration tests against third party installed applications used as part of the service</p>

<p><em>Infrastructure penetration testing</em><br />
As the service manager responsible for the service<br />
So that the service does not get compromised due to a vulnerability<br />
And so we meet our accreditation obligations<br />
I want to run a suitable number of penetration tests against the infrastructure configuration</p>

<h3 id="operating-system">Operating system</h3>

<p><em>Operation system selection</em><br />
As a web operations engineer working on the service<br />
So that we have a clear path to receiving security updates<br />
And so we can more easily find support for our systems<br />
I want to select and install a suitable default operating system for the service</p>

<p><em>File systems</em><br />
As a web operations engineer working on the service<br />
So that we get the best possible performance and reliability from the disk<br />
I want to select a suitable file system and partition layout</p>

<p><em>Resource isolation</em><br />
As a web operations engineer working on the service<br />
So that noisy applications cannot affect other applications on the instance<br />
I want to be able to isolate running applications from each other in terms of memory and CPU</p>

<p><em>Read-only file systems</em><br />
As a web operations engineer working on the service<br />
So that I can protect against files being changed due to compromises in the application<br />
I want to be able to configure a read-only file system if appropriate.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2016/12/31/working-for-a-software-vendor/">Working for a software vendor</a>
      </h1>
      <span class="post-date">Dec 31, 2016 &middot; 8 minute read
      </span>
      
      

<p>One of the reasons I moved to Puppet two and a bit years ago was because
I was interested in the software industry. In particular I was
interested in being on the vendor side for a while. My background is
mainly as a service provider, software as a service, in-house
developer/ops type person. This has definitely been an interesting
experience, but I&rsquo;ve not tried too much to explain <em>why</em>, until now.</p>

<p>First, what do we mean by <em>vendor</em>?</p>

<blockquote>
<p>a person or company offering something for sale, especially a trader
in the street.</p>
</blockquote>

<p>So in the context of a software vendor we specifically mean:</p>

<blockquote>
<p>a person or company offering software for sale</p>
</blockquote>

<p>Note that we&rsquo;re selling the software, not access to some service
provided by software (ie. SaaS). SaaS and other as-a-service models are
growing part of the industry, but the business model, development cycle,
company structure and other aspects are quite different in my experience,
though lots of hybrid models exist too.</p>

<h2 id="economics-and-scale">Economics and scale</h2>

<p>One of the interesting aspects of the software vendor world is the
economics, the revenues, and the fact lots of companies are public. This
in turn means a large amount of VC money goes into trying to create
another large software vendor, because the potential payout is huge.</p>

<p>Take a sample set of companies from the last 10 years or so that are still
private: Docker, Puppet, Chef, MongoDB, Elastic, CoreOS, Mesosphere,
Weave, Cloudera, etc. Somewhat biased towards my own interests I&rsquo;ll
admit.</p>

<p>Now take a sample of large, public, software vendors: Oracle, Microsoft,
CA, SAP, Sage, BMC, VMware. Not counting companies like Intel,
Cisco, IBM, Dell (no longer public), and HP with huge software portfolios.</p>

<p>Let&rsquo;s pick on Sage, a UK software company selling accounting software.
<a href="http://www.truffle100.com/2015/ranking.php">As of 2014</a> Sage had 1169
people in software development R&amp;D roles and they made $1.6billion from
software and related services in 2015. That&rsquo;s probably about the (order
of magnitude) number of people employed in R&amp;D roles in the above private
softare companies. The revenue is (and I&rsquo;m guessing here) a bit higher
at Sage than those companies combined too. SAP is an order of magnitude larger,
both in terms of people (18908 in 2014) and revenues ($18billion
also in 2014). Oracle revenues were $38billion as another data point.</p>

<p>So all the cool (or not so cool) companies from the past 10 years or so
are a rounding error to the size of the industry. But you wouldn&rsquo;t know
that from reading Hacker News or other parts of the internet. This
disconnect is a constant source of interest to me as I spend time with
Puppet customers and with the wider infrastructure community at
conferences and the like.</p>

<h2 id="a-world-of-difference">A world of difference</h2>

<p>My gut feeling is that most people working as software developers,
designers, product managers, etc. don&rsquo;t work for software vendors. Apart
from maybe in localised areas like Silicon Valley. But because of the
mentioned money and scale (and PR spend) of the big players a
great deal of press interest centers around vendors. Docker is probably the
best current example of this but it&rsquo;s more general than one company.
This makes what happens in software-vendor-startup-land more visible to
everyone else than, say, IT reality in large financial companies.</p>

<p>At the heart of a good software company is a product being
built and maintained by a team of engineers, designers, managers, etc.
In many ways this is similar to lots of peoples experience of building
software (whether at work or at home as part of one open source project
or another). But the support surrounding this tends to vary greatly from
other areas. A dedicated marketing and product marketing team, dedicated
sales staff, a professional services function, training, documentation,
public relations personell are all required to turn the software into
revenue. And importantly these teams have to work closely together, and
be actively involved with the development of the product.</p>

<p>This is very different from an in-house development position, but it&rsquo;s
also quite different from most SaaS operations. SaaS tends (generalising
here) to be based around large numbers of individual users with monthly
recurring revenues of 10s or 100s of US dollars. Software vendors
selling to large enterprises tends to be looking at single large deals
of 10s of thousands to many millions of dollars. This tends to mean
large differences in total number of customers, revenue per
customer, time needed to close a deal, requirement for staff local to a
customer, etc. All of that makes for a very different operation and
feedback cycle.</p>

<h2 id="some-interesting-observations">Some interesting observations</h2>

<p>Software has a much longer shelf-life in the real-world than people
typically think on the internet. Take the datacenter automation
market. <a href="https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/products/vrealize-suite/vmware-idc-worlwide-datacenter-automation-software-market-shares-2015.pdf">This IDC
report</a>
for example pegs the market at $2.3billion in 2015. VMware takes the
lions share with roughly 30%, with BMC with 10%. For reference Puppet
has 3.2% and Chef 1.2%. Obviously this is just one report, and it&rsquo;s now
a year old, but it&rsquo;s an interesting data point. And compare that to what
you might expect if you just follow the software rather than the market.
Even in 2015 some people would have been saying &ldquo;surely everything is
Docker and Kubernetes now?&ldquo;. The reality is closer to it being all shell
scripts and BladeLogic for the majority of IT shops.</p>

<p>For the most part, innovators (and some early adopters) don&rsquo;t buy software,
instead they build or co-opt it. Take Netflix, Uber, Amazon, Google,
Facebook or similar. All are well-known for building much of there core
software and infrastructure and using open source solutions for much of
the rest. And it&rsquo;s not just software, all of the above also have large
internal investments in bespoke hardware as well. So who buys software
from software vendors? Taking the <a href="http://www.valuebasedmanagement.net/methods_rogers_innovation_adoption_curve.html">Rogers&rsquo; Innovation Adoption
Curve</a>
it&rsquo;s the early majority, the late majority and laggards. That&rsquo;s
~85% of the market. Most of the noise on the internet about software is
from innovators and early adopters, or people who want to be in those
groups. But most of the software sold is to people with very different
wants and needs. This chasm explains much of the frustration experienced
with software, and the difficulty of building software for often very
different types of users at the same time.</p>

<p>Much of the writing about continuous delivery and continuous deployment
assumes you&rsquo;re releasing a web site or at least a central, single,
service. At the very least this is most peoples experience and context.
But shipping software than people install and run themselves tends to
make software deployment a pull rather than a push. A vendor can release
a new version, but how to make the customer upgrade? Technically this
could be reasonably straightforward (Chrome auto-updates for example)
but for expensive, often critical, systems in sometimes regulated or
otherwise controlled or low trust environments, this turns out to be
trickier and more about people than just technology. This is an entire
topic on it&rsquo;s own so I&rsquo;ll leave it there <a href="https://web.pipelineconf.info/">for
now</a>.</p>

<p>Continuous integration for packaged software (true for some, but not most,
projects outside software vendors) tends to hit a permutation explosion quite
quickly. Take server software because that&rsquo;s what I&rsquo;m most familiar
with. You&rsquo;ll definitely support the latest version of RHEL, plus
probably a few older versions, and maybe Centos and some of the other
variants (Oracle Linux, Scientific Linux) as well. Ubuntu LTS releases
probably makes the list, as might Debian stable. You&rsquo;ll also likely want
to test on at least Windows Server 2016 and 2012. You may have need to
keep going and support BSD, AIX, HP-UX, SUSE, etc. <a href="https://docs.puppet.com/guides/platforms.html">Puppet has an
unreasonably long list of supported and tested
platforms</a> for instance.
Throw in other variations or configurations or architectures and you
have a serious CI environment. Compare this to a more typical case of a
deployment pipeline to a single known operating system and version on
a server you control.</p>

<h2 id="open-source">Open source</h2>

<p>One of the notable things about the lists above of older (public) and
newer (currently private) software companies is that all of the newer
ones are based around an open source software product or products. We&rsquo;ve
had companies based around open source for a long time, but very few make
it to the public markets (where we get data to see if they actually work
as companies). A recent exception is Hortonworks (HDP) which
opened at $26.38 in December 2014 but is down to $8.31 as of this
writing, with revenues around <a href="http://hortonworks.com/press-releases/hortonworks-reports-financial-results-second-quarter-2016/">$40million a
quarter</a>.
Red Hat (RHT) did <a href="https://investors.redhat.com/news-and-events/press-releases/2016/03-22-2016-201734069">$2billion in
2016</a>
(which remember is 5% of Oracles revenues, but still a large amount).</p>

<p>So undoutedly open source has had a large effect on the software
industry as a whole. But the impact on the public markets to date is
minimal in terms of new companies. It will be super interesting to see
if in 5 years time the list of public software companies based on open
source software is larger than it is today.</p>

<h2 id="conclusions">Conclusions</h2>

<p>I mainly wrote this post so I had something to reference when I talk to
people about the software industry, and in particular what it&rsquo;s like
working for a software vendor. Speculating about or second guessing one
vendor or another is an internet sport (non-more-so than for those that
work at other vendors) but from the outside it&rsquo;s worth an appreciation
of some of the differences I think and a bit of empathy for the
decisions made. And if the above makes you think this all sounds rather
interesting then you&rsquo;d be right.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2016/11/23/the-coming-of-the-kubernetes-distributions/">The coming of the Kubernetes distributions</a>
      </h1>
      <span class="post-date">Nov 23, 2016 &middot; 5 minute read
      </span>
      
      

<p>Very few people today start using Linux by downloading the linux kernel
and starting from scratch. Most people start with a Linux distribution;
for instance Debian, Ubuntu or CentOS. These distributions provide some
opinions, some central infrastructure, a brand, strong versioning for
the entire ecosystem and a bunch of other things. I posit that we&rsquo;ll see
the same pattern emerge with Kubernetes.</p>

<h2 id="what-even-is-kubernetes">What even is Kubernetes?</h2>

<p>I&rsquo;ve seen Kubernetes described as all of the following:</p>

<ul>
<li>An operating system for your datacenter</li>
<li>The distributed systems toolkit</li>
<li>The Linux kernel for distributed systems</li>
</ul>

<p>I think all of these descriptions point to the developers intent that
Kubernetes is something to build upon, rather than a simple out-of-the-box
experience. It&rsquo;s predominantly about building agreement on the
primitives/APIs of distributed systems.</p>

<h2 id="a-name-for-a-thing">A name for a thing</h2>

<p>I&rsquo;ve not seen much discussion of this in general yet, I think because
it&rsquo;s early days and many of the people looking at Kubernetes today are
either developers or early adopter types. These people have been
&ldquo;downloading the kernel and starting from scratch&rdquo;, even until recently
most likely running from source downloaded directly from GitHub. If the
Kubernetes ecosystem is to grow then that&rsquo;s not how more mainstream IT
will adopt Kubernetes.</p>

<p>The reason for discussing this now is that I think a name is useful.
That way we can talk about Kubernetes (singular, the software) separate
from distrubutions of Kubernetes (many of them, from different vendors
and communities). I&rsquo;d be happy to see a different name, but I think
distribution probably fits best.</p>

<h2 id="any-evidence">Any evidence?</h2>

<p>Absolutely. A range of software vendors are providing what I&rsquo;m calling
Kubernetes distributions. Here is a sample, I&rsquo;m sure there are and will
be more. I&rsquo;m also sure over time some will disappear or maintain only a
niche audience.</p>

<ul>
<li>OpenShift from Red Hat</li>
<li>Tectonic from CoreOS</li>
<li>Kismatic from Apprenda</li>
<li>Rancher</li>
<li>Canonical Distribution of Kubernetes</li>
<li>GKE from Google</li>
<li>Azure Container Service from Microsoft</li>
<li>Photon Platform from VMware</li>
<li>Navops from Univa</li>
</ul>

<p>Note that Canonical are already using the term <em>distribution</em> in the
name. I&rsquo;ve seen it used in passing in CoreOS, OpenShift and Apprenda
press materials too.</p>

<h2 id="what-can-we-expect-from-kubernetes-distributions">What can we expect from Kubernetes distributions?</h2>

<p>Running with the analogy that Kubernetes is &ldquo;an operating system for
your datacenter&rdquo; and that we&rsquo;ll have a range of competing Kubernetes
distributions, what else can we expect over the next few years?</p>

<h3 id="package-repositories-aka-app-stores">Package repositories (aka. app stores)</h3>

<p>One of the things provided by the traditional Linux distributions has
been a central package repository. Most of the packages you&rsquo;re
installing from <code>apt</code> or <code>yum</code> are coming from that currated set of
available packages. Not to mention community efforts like EPEL. We
already have two package concepts within the Kubernetes ecosystem -
container images (often from Docker Hub today, or from internal
repositories) and Charts, part of the Helm package management tool
(now a CNCF project).</p>

<p>In the short term expect the shared public Charts repository and Docker
Hub to dominate. But over time different vendors will launch there own
repositories. Partly this will be about building a trusted ecosystem,
partly about limiting permutations for support and testing, and partly
about control. The prize here is to be &ldquo;the enterprise app store&rdquo; and
no vendor in this space isn&rsquo;t going to at least try to own that as part
of their platform.</p>

<h3 id="kubernetes-standards-and-compliance">Kubernetes standards and compliance</h3>

<p>In an environment with many distributors of core software, it&rsquo;s
common for people to emphasise portability. As vendors extend their
distribution (to provide higher level, but potentially proprietary
features) this can become muddier. Some level of certification is
often the answer. See CloudFoundry or OpenStack for recent examples.
Kubernetes is already part of the CNCF, part of the Linux Foundation.
I&rsquo;d expect to see the works standards and certification eventually
float around, but my guess is not in the short term.</p>

<h3 id="a-fight-over-who-is-the-most-open">A fight over who is the most open</h3>

<p>Much of the container conversation recently has centered around a
<em>weaponisation</em> of <em>open</em>. I think as the different distributions try and
take the community with them at the same time as trying to scale sales this
will continue. This will be an irritation and is probably best avoided.</p>

<h3 id="pressure-for-aws-to-offer-kubernetes-as-a-service">Pressure for AWS to offer Kubernetes as a service</h3>

<p>I would presume AWS has a very good idea of how many people are actually
using Kubernetes on it&rsquo;s platform. I think as that grows, and as other
vendors efforts mature, they will come under pressure to offer the
Kubernetes API as a service. I&rsquo;m still split on whether that will
actually happen but that&rsquo;s a longer blog post about economics.</p>

<h3 id="differentiating-features">Differentiating features</h3>

<p>Ultimately vendors will try and differentiate themselves in this new
market. To begin with the majority of business will be targetting the
container-curious and mainly talking up the benefits of containers and
Kubernetes. But some potentialy customers are going to insist on
comparing Kubernetes distributions and winning there is going to be about
clear differentiation. Do you want to be the budget offering or the
provider with the unique selling point?</p>

<h2 id="interesting-questions">Interesting questions</h2>

<p>An observation at the moment is that all the current Kubernetes
distributions I&rsquo;m aware of are vendor-owned. Whether Open Source or not,
they are driven by a single vendor (CoreOS, Red Hat, Apprenda, etc.)
It&rsquo;s interesting to see whether, in the current climate, we see a
genuinely free and open source Kubernetes distribution emerge, similar
to the role Debian plays in the Linux distribution world.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2016/11/12/the-end-of-the-general-purpose-operating-system-unikernels/">Unikernels and The End of the General Purpose Operating System</a>
      </h1>
      <span class="post-date">Nov 12, 2016 &middot; 2 minute read
      </span>
      
      

<p>The <a href="http://www.morethanseven.net/2016/11/05/the-end-of-the-general-purpose-operating-system-as-it-happens/">previous
post</a>
went into why I think the days of the general purpose operating system
(for servers) are numbered. But one interesting area I didn&rsquo;t comment
on (but did talk about in the talk of the same name) was Unikernels.</p>

<h2 id="it-s-all-about-cost">It&rsquo;s all about cost</h2>

<p>One of the topics I didn&rsquo;t really touch on in discussing the end of the
generally purpose operating system was cost. Historically,
maintaining a general purpose operating system has been a costly
endeavour, something only the largest companies or communities could
sustain by themselves. Think Red Hat, Oracle, Microsoft, Sun, IBM,
Debian, etc. The result of that is the assumption when building software
that you should target one or more of a small number of operating systems.
In doing so you&rsquo;re ceding some ground, and likely some revenue, to another
vendor. You&rsquo;re also stuck with any underlying limitations of that OS as
well as its release cadence. And invariably you&rsquo;re also stuck with the
multiplying support cost of supporting your software on multiple versions of
that OS over time.</p>

<p>I would posit that up until relatively recently the cost of that support
burden was hugely outweighted by the cost of maintaining an actual operating
system. But that&rsquo;s now changing, as I outlined in the previous post. Now a
small or medium sized software company (be it CoreOS, Rancher, Docker,
Pivotal, etc.) can build and maintain it&rsquo;s own operating system as well.
This is very much about the rising level of abstraction - all of the
above leverage the huge efforts that go into the Linux kernel and into
other projects like systemd (CoreOS) or Alpine (Docker&rsquo;s Moby) for
instance.</p>

<h2 id="enter-unikernels">Enter Unikernels</h2>

<p>But where do Unikernels fit into this narrative? I&rsquo;d argue that they
represent the fulfilment of this democratization. If building and
maintaining a traditional OS is only possible for the largest of
companies, and building and maintaining a more special-purpose OS (say
for running containers, or a storage device) is cost-effective for medium
sized softare companies, then Unikernels will allow anyone to build their
own single-purpose operating systems.</p>

<p>There are other technical reasons for (and against) Unikernels as an
approach but most focus on the technical. I think the economic side is
worth some consideration too. And not just the typical development and
support costs, but the ability to own the end-to-end unit of software
has lots of benefits, and Unikernels may make those benefits available
to everyone, including small organisations and individuals.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2016/11/05/the-end-of-the-general-purpose-operating-system-as-it-happens/">The End of the General Purpose Operating System</a>
      </h1>
      <span class="post-date">Nov 5, 2016 &middot; 5 minute read
      </span>
      
      

<p>As interesting chat on Twitter today reminded me that not everyone is
probably aware that we&rsquo;re seeing a concerted attempt to dislodge the
general purpose operating system from our servers.</p>

<p>I gave a talk about some of this <a href="https://speakerdeck.com/garethr/the-end-of-the-general-purpose-operating-system">nearly two years
ago</a>
and I though a blog post looking at what I got right, what I got wrong
and what&rsquo;s actually happening would be of interest to folks. The talk
was written only a few months after I joined Puppet. With a bunch
more time working for a software vendor there are some bits I missed in
my original discussion.</p>

<h2 id="what-do-you-mean-by-general-purpose-and-by-end">What do you mean by general purpose and by end?</h2>

<p>First up, a bit of clarification. By <em>general purpose OS</em> I&rsquo;m referring
to what most people use for server workloads today - be it RHEL or variants
like CentOS or Fedora, or Debian and derivatives like Ubuntu. We&rsquo;ll
include Arch, the various BSD and opensolaris flavours and Windows too.
By <em>end</em> I don&rsquo;t literally mean they go away or stop being useful. My
hypothosis is that, slowly to begin with then more quickly, they cease
to be the default we reach for when launching new services.</p>

<h2 id="the-hypervisor-of-containers">The hypervisor of containers</h2>

<p>The first part of the talk included a discussion of what I&rsquo;d referred to
as <em>the hypervisor of containers</em>, what today would more likely be
referred to as a CaaS, or containers as a service. I even speculated
that VMWare would have to ship something in this space (See vSphere Integrated
Containers and the work on Photon OS) and that counting out OpenShift
would be premature (OpenShift 3 shipped predominantly as a Kubernetes
distribution). I&rsquo;ll come back to why this is a threat to your beloved
Debian servers shortly.</p>

<h2 id="the-race-to-pid1">The race to PID1</h2>

<p>For anyone who has run Docker you&rsquo;ll likely have wrestled with the
question of where does the role of the host process supervisor (probably systemd)
start and the container process supervisor (the Docker engine) end? Do
you have to interact directly with both of them?</p>

<p>Now imagine if <em>all</em> of the software on your servers was run in containers.
Why do I need two process supervisors now with 100% overlap? The obvious
answer is you don&rsquo;t, which is why the fight between Docker and systemd
is inevitable. Note that this isn&rsquo;t specific to Docker either. In-scope
for <a href="https://github.com/kubernetes-incubator/cri-o">cri-o</a> is <em>Container
process lifecycle management</em>.</p>

<h2 id="containers-as-the-unit-of-software">Containers as the unit of software</h2>

<p>Hidden behind my hypothosis, which mainly went unsaid, was
that containers are becoming the unit of software. By which I mean
the software we build or buy will increasingly be distributed as
containers and run as containers. The container will carry with it
enough metadata for the runtime to determine what resources are
required to run it.</p>

<p>The number of simplying assumption that come from this shared contract should not
be underestimated. At least at the host level you&rsquo;re likely to need lots
of near-identical hosts, all simply advertising their capabilities to
the container scheduler.</p>

<h2 id="operating-system-as-implementation-detail">Operating system as implementation detail</h2>

<p>What we&rsquo;re witnessing in the market is the development of vertically integrated
stacks.</p>

<ul>
<li>Docker for Mac/Windows/AWS/Azure ships with it&rsquo;s own operating
system, an Alpine Linux derivative <a href="http://lucjuggery.com/blog/?p=753">nicknamed Moby</a>, which is not intended for direct management by end users.</li>
<li>Tectonic from CoreOS is a Kubernetes distribution which runs atop a
cluster of managed CoreOS hosts. Most of the operating system is
managed with frequent atomic rolling updates.</li>
<li>OpenShift Enterprise from RedHat is another Kubernetes derivative,
this time running atop Atomic host.</li>
<li>Pivotal CloudFoundry <a href="https://twitter.com/jambay/status/794904634502496257">ships with the IaaS, host OS, kernel, file
system, container OS all tested
together</a></li>
</ul>

<p>In all of these cases the operating system is an implementation detail
of the higher level software. It&rsquo;s not intended to be directly managed,
or at least managed to the same degree as the general purpose OS you&rsquo;re
running today.</p>

<p>This is how the end comes for the majority of your general purpose
operating system running servers. The machines running containers will
be running something more single purpose, and more and more of the
software you&rsquo;re running will be running in containers.</p>

<p>The reason why you&rsquo;ll do this, rather than compose everything yourself, is
compatability. Whether it&rsquo;s kernel versions, file system drivers,
operating system variants or a hundred variations that make your OS
build different from mine. Building and testing software that runs
everywhere is a sisyphean task. Their is also the commercial angle at
play here, and the advantage of being able to support a single validated
product to everyone.</p>

<h2 id="implications">Implications</h2>

<p>There are lots of implications to this move, and it&rsquo;s going to be
interesting to see how it plays out with both early adopters and
enterprise customers alike.</p>

<ul>
<li>What does this mean for corporate operating system policies?</li>
<li>How do standard agent-based monitoring systems work in a world of
closed vertical stacks?</li>
<li>Will we see this pattern for other types of service in the AWS Marketplace,
where instance launched are inaccessible but automatically updating?</li>
<li>How does such fast moving software work in environments with rigid
change control processes or audit requirements?</li>
<li>Many large organisations will end up running more than one of these
types of system, how best to manage such heterogenous environments?</li>
<li>Will we see push back from some parties? In particular the open source
community who may see this mainly serving the needs of vendors?</li>
<li>Does the end of the general purpose OS lead to greater specialism
amongst systems administrators?</li>
</ul>

<p>I&rsquo;d love to chat about any of this with other folks who have given it
some thought. It&rsquo;s interesting watching grand changes play out across
the industry and picking up on patterns that are likely obvious in
hindsight. And if you like this sort of thing let me know and I&rsquo;ll try
and find time for more speculation.</p>

      
    </div>
    
    
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        class="disabled">
        <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        class="active"><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        ><a href="/page/6/">6</a></li>
        
        <li
        ><a href="/page/7/">7</a></li>
        
        <li
        ><a href="/page/8/">8</a></li>
        
        <li
        ><a href="/page/9/">9</a></li>
        
        <li
        ><a href="/page/10/">10</a></li>
        
        <li
        ><a href="/page/11/">11</a></li>
        
        <li
        ><a href="/page/12/">12</a></li>
        
        <li
        ><a href="/page/13/">13</a></li>
        
        <li
        ><a href="/page/14/">14</a></li>
        
        <li
        ><a href="/page/15/">15</a></li>
        
        <li
        ><a href="/page/16/">16</a></li>
        
        <li
        ><a href="/page/17/">17</a></li>
        
        <li
        ><a href="/page/18/">18</a></li>
        
        <li
        ><a href="/page/19/">19</a></li>
        
        <li
        ><a href="/page/20/">20</a></li>
        
        <li
        ><a href="/page/21/">21</a></li>
        
        <li
        ><a href="/page/22/">22</a></li>
        
        <li
        ><a href="/page/23/">23</a></li>
        
        <li
        ><a href="/page/24/">24</a></li>
        
        <li
        ><a href="/page/25/">25</a></li>
        
        <li
        ><a href="/page/26/">26</a></li>
        
        <li
        ><a href="/page/27/">27</a></li>
        
        <li
        ><a href="/page/28/">28</a></li>
        
        <li
        ><a href="/page/29/">29</a></li>
        
        <li
        ><a href="/page/30/">30</a></li>
        
        <li
        ><a href="/page/31/">31</a></li>
        
        <li
        ><a href="/page/32/">32</a></li>
        
        <li
        ><a href="/page/33/">33</a></li>
        
        <li
        ><a href="/page/34/">34</a></li>
        
        <li
        ><a href="/page/35/">35</a></li>
        
        <li
        ><a href="/page/36/">36</a></li>
        
        <li
        ><a href="/page/37/">37</a></li>
        
        <li
        ><a href="/page/38/">38</a></li>
        
        <li
        ><a href="/page/39/">39</a></li>
        
        <li
        ><a href="/page/40/">40</a></li>
        
        <li
        ><a href="/page/41/">41</a></li>
        
        <li
        ><a href="/page/42/">42</a></li>
        
        <li
        >
        <a href="/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/42/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  </div>
</div>



</body>
</html>

