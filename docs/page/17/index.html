<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.21" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>More than seven &middot; More than seven</title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/hyde.css">
  <link rel="stylesheet" href="/css/poole-overrides.css">
  <link rel="stylesheet" href="/css/hyde-overrides.css">
  <link rel="stylesheet" href="/css/hyde-x.css">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  
  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="More than seven &middot; More than seven" />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-435455-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body class="theme-base-08">
<div class="sidebar">
  <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=morethansevennet" id="_carbonads_js"></script>
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1><a href="/">More than seven</a></h1>
      <p class="lead">Writing about code. Occasional other topics. Made by <a href="https://twitter.com/garethr">@garethr</a>.</p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/03/13/does-rails-encourage-soa-better-than-django/">Services Vs Applications: Does Rails Encourage SOA Better Than Django?</a>
      </h1>
      <span class="post-date">Mar 13, 2009 &middot; 1 minute read
      </span>
      
      <p>Building larger applications tends to mean splitting your codebase up some how into manageable chunks. I&rsquo;m quite interested in what I see as different approaches in the Rails and Django communities:</p>

<p>Django tends to recommend building <a href="http://www.b-list.org/weblog/2007/mar/27/reusable-django-apps/">Reusable Apps</a> and we have sites like <a href="http://djangoplugables.com/">Django Pluggables</a> to catalog what&rsquo;s available. You then grab a few of these applications from the web or write your own, add them run them all together as part of a single application. <a href="http://pinaxproject.com/">Pinax</a> is probabaly the poster child for this approach. The 0.5.1 release for instance appears to have 41 individual reusable apps, many written by other people and projects.</p>

<p>The Rails community tends to <a href="http://gilesbowkett.blogspot.com/2007/08/activeresource-rails-scalability.html">talk more about RESTful service orientated architectures</a>, with things like <a href="http://api.rubyonrails.org/classes/ActiveResource/Base.html">ActiveResource</a> making this sort of thing easier. So rather than your manageable chunks being within your application they&rsquo;re separate instances in their own right.</p>

<p>I&rsquo;d be interested in hearing from more people about their experiences, in particular if you&rsquo;ve gone against the grain so to speak.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/03/09/rewiredstate/">RewiredState</a>
      </h1>
      <span class="post-date">Mar 9, 2009 &middot; 2 minute read
      </span>
      
      <p><a href="http://rewiredstate.org/">RewiredState</a> was awesome. 100 or so geeks plus a smattering of government types gathered in the shiny new Guardian offices in Kings Cross on Saturday to hack (the Government).</p>

<p>Some events like this are more productive than others, and the end of day demos included some realy impressive stuff. See for your self on the <a href="http://projects.rewiredstate.org/">projects page</a></p>

<p>My own little project even won a prize (an invisible bottle of Champagne no less). My complain was that if you want to report an issue about the over 7000 government websites you have to do it per site. All of the sites do their own thing, which might be a nice contact form, maybe an email address or in some cases a postal address hidden on a page that&rsquo;s not linked to from anywhere.</p>

<p>My solution was pretty simple - a centralised issue reporting and navigating tool. So you go along to the site you have an issue with and hit a bookmarklet (or a badge on the site if the site in question have been nice enough to add one). You fill in a very simple form which appears before your eyes and everything is tracked on a nice shiny website.</p>

<p>The advantage of all that is transparency. You can see which sites people have issue with, and also ideally which issues get addresses or at least acknowledged by the support staff for the site in question. The hack had comments so others could follow up on individual issues. It would be simple enough to have league tables and the like as well, or add tagging for a little bit of categorisation - I did only have a few hours though.</p>

<p><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRi7Fww" alt="screenshot of FeedbackGov website"/></p>

<p>After a few nice comments I&rsquo;m going to have to finish it off and get it up somewhere I think. All I really need to do is clean up the bookmarklet code (which was a hack in more ways than one) and add a bit of sanity checking to data entered into the system.</p>

<p>A massive well done to everyone involved is in order as well, especially <a href="http://coupde.com/">James</a> who I remember talking to the idea about ages ago. Congratulations all - and hopefully be back next year.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/03/05/content-markup-ratio-bookmarklet/">Content to Markup ratio bookmarklet</a>
      </h1>
      <span class="post-date">Mar 5, 2009 &middot; 1 minute read
      </span>
      
      <p><a href="http://www.phpied.com/">Stoyan Stefanov</a> just released an excellent little <a href="http://www.phpied.com/content-to-markup-ratio-bookmarklet/">bookmarklet to calculate a content to markup ratio</a></p>

<p>It&rsquo;s interesting browsing around a few sites and comparing ratios:</p>

<ul>
<li>This site - 0.55</li>
<li><a href="http://bbc.co.uk">bbc.co.uk</a> - 0.26</li>
<li><a href="http://capitalradio.co.uk">capitalradio.co.uk</a> - 0.45</li>
<li><a href="http://clearleft.com">clearleft.com</a> - 0.48</li>
<li><a href="http://alistapart.com/">alistapart.com</a> - 0.44</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/03/04/app-engine-python-developers/">App Engine for Python Developers</a>
      </h1>
      <span class="post-date">Mar 4, 2009 &middot; 1 minute read
      </span>
      
      <p>I gave a short presentation about App Engine last night at the <a href="http://campug.org.uk/">Cambridge Python User Group</a> and as always it&rsquo;s available on <a href="http://slideshare.net">Slideshare</a>.</p>

<p><object style="margin:0px" width="425" height="355">
<param name="movie" value="http://static.slideshare.net/swf/ssplayer2.swf?doc=appengine-090304031400-phpapp02&stripped_title=app-engine-for-python-developers" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slideshare.net/swf/ssplayer2.swf?doc=appengine-090304031400-phpapp02&stripped_title=app-engine-for-python-developers" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object></p>

<p>I find App Engine a great way of just writing (Python) code and putting it online quickly, and the presentation was aimed at being something of a fanboy ode. During questions afterwards we talked about some of the limitations and cases where App Engine isn&rsquo;t as well suited, and at least a few people were heading off planning on having a play.</p>

<p>The event was good fun and I picked up a few Python related tips and tricks from the other presentations and general conversation. Thanks for everyone who organised and attended the event and to <a href="http://www.realvnc.com/">RealVNC</a> for hosting the talks.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/03/02/quick-dmigrations-update/">Quick dmigrations Update</a>
      </h1>
      <span class="post-date">Mar 2, 2009 &middot; 1 minute read
      </span>
      
      <p>I&rsquo;ve finally been getting round to doing a bit of work on <a href="http://code.google.com/p/dmigrations/">dmigrations</a>, the Python based database migration tool we developed at <a href="http://thisisglobal.com">work</a>.</p>

<blockquote>
<p>dmigrations offers a simple but flexible way of managing changes to the database in your Django projects. It is a replacement for Django&rsquo;s built in syncdb command.</p>
</blockquote>

<p>I still have some work to do to merge in a number of modifications we&rsquo;ve been running internally for a while but I&rsquo;ve triaged the issues list that had been left alone for too long and merged in a fantastic collection of patches from a few people including Alexander Robbins and <a href="http://chris-lamb.co.uk/">Chris Lamb</a>. Thanks hugely to everyone for these.</p>

<p>Everything is available in <a href="http://code.google.com/p/dmigrations/source/browse/#svn/trunk">trunk in SVN</a> at the moment ahead of me cleaning a few thinks up and updating the download version. I&rsquo;ve added a setup.py file as well ahead of hopefully adding it to the <a href="http://pypi.python.org/pypi">Python Package Index</a>.</p>

<p>I obviously wasn&rsquo;t the only one who had decided to do some work on the project in the last couple of days. <a href="http://www.djangosnippets.org/users/msaelices/">msaelices</a> has just submitted <a href="http://code.google.com/p/dmigrations/issues/detail?id=21">a patch</a> which adds a <a href="http://www.postgresql.org/">PostgreSQL</a> backend. I don&rsquo;t tend to use PostgreSQL personally so if anyone does want to have a look at running dmigrations with the patch I&rsquo;d love to hear about it.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/02/28/http-debugging-server-django/">HTTP Debugging Server in Django</a>
      </h1>
      <span class="post-date">Feb 28, 2009 &middot; 2 minute read
      </span>
      
      <p>I&rsquo;ve been busy building and playing with various HTTP clients recently, mainly due to more playing with RESTful web services. I took a couple of hours out to build something to make my life easier - namely a very simple <a href="http://github.com/garethr/django-http-debug/tree/master">logging HTTP server in Django</a>.</p>

<p>All the application does is accepts HTTP requests and log the results to a file. I&rsquo;ve been using it to make sure the requests I&rsquo;m sending from elsewhere are correct, before pointing the client at a web service that actually does something useful. It supports POST, GET, PUT, DELETE, etc. So far so simple.</p>

<p><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRjSDww" alt="screenshot showing us tailing the logs"/></p>

<p>I ended up using Django mainly because I did most of the work on the train, and I know my way around it pretty well by now. I did originally thing it might have been better to use something simpler but I did end up learning a few new tricks that I&rsquo;ll use for future projects.</p>

<ul>
<li>In theory <a href="http://code.djangoproject.com/changeset/1807">Django doesn&rsquo;t need a database</a>. While this is true for the most part, the in-built test runner does require a database. One thing I&rsquo;ve talked about before is the usefulness of creating your own custom test runner. If anyone else runs into this specific problem have a look at the <a href="http://github.com/garethr/django-http-debug/blob/0ef82784abfc70cc63444e39f61807675acd5c29/http_debug/lib/nodatabase.py">nodatabase.py</a> file.</li>
<li>The logging is handled via Python&rsquo;s inbuilt logging module. It has some nifty features (like log rotation, maximum file sizes and different logging levels) but is a little fiddly to get working correctly. Tales abound of log messages appearing multiple times, or permission errors causing problems. At least for this project I think I have everything working. I&rsquo;ll try using this <a href="http://github.com/garethr/django-http-debug/blob/0ef82784abfc70cc63444e39f61807675acd5c29/http_debug/lib/log.py">module</a> on a couple of other projects and maybe spin it off into a small reusable app.</li>
</ul>

<p>For something that took only a few hours to write it was both good fun and a useful learning tool. And Django proved itself more useful that I though for smaller services like this.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/02/28/startup-hubs-uk-where-put-one/">Startup Hubs in the UK - Where To Put One?</a>
      </h1>
      <span class="post-date">Feb 28, 2009 &middot; 2 minute read
      </span>
      
      <p>I always enjoy reading things by <a href="http://www.paulgraham.com">Paul Graham</a>, even if I&rsquo;d like to be able to disagree with his conclusions on occasion. It&rsquo;s not just that I love <a href="http://www.paulgraham.com/hackpaint.html">Hackers and Painters</a>, but also he often says things like the following that make me smile:</p>

<blockquote>
<p>hackers are much more constrained by gentlemen&rsquo;s agreements than regulations. If they shake your hand on a promise, they&rsquo;ll keep it. But show them a lock and their first thought is how to pick it.</p>
</blockquote>

<p>His latest short essay concerns <a href="http://www.paulgraham.com/maybe.html">startup hubs</a> again, something that I&rsquo;m actually pretty interested in, end up talking to <a href="http://imranali.name/">people</a> <a href="http://twitter.com/herbkim">about</a>, but hardly ever writing anything on. Mike over at Techcrunch Uk elicited some good comments last year with a <a href="http://uk.techcrunch.com/2008/07/29/starting-the-campaign-for-the-techhub/">post on the subject</a>. As usual Graham focuses on the US, but what about translating his idea of buying a Startup Hub and applying it to the UK? He sets several criteria for success:</p>

<ul>
<li>Do you have good weather?</li>
<li>Do people live downtown, or have they abandoned the center for the suburbs?</li>
<li>Would the city be described as &ldquo;hip&rdquo; and &ldquo;tolerant,&rdquo; or as reflecting &ldquo;traditional values?&rdquo;</li>
<li>Are there good universities nearby? Are there walkable neighborhoods?</li>
<li>Would nerds feel at home?</li>
</ul>

<p>Lets assume for the moment that the idea would work. Take £15-20million and invest in 30 or so well chosen startups on the condition they move into town. The question is then: <strong>where in the UK would this be most likely to work? And are their any UK specific criteria that would increase the success rate?</strong></p>

<p>Some people might be thinking &ldquo;but no UK city is going to invest £20million in a scheme to encourage startups&rdquo;. Leeds is <a href="http://www.yorkshireeveningpost.co.uk/business-news/Universities-bid-to-help-.4979184.jp">doing just that</a>. Or rather Yorkshire Forward are putting up £35million along with Leeds University putting up £31milion. What are they doing with all that money? They are going to build a big building with it - which is exactly what Graham says won&rsquo;t work.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/02/24/github-changelog/">GitHub Changelog</a>
      </h1>
      <span class="post-date">Feb 24, 2009 &middot; 1 minute read
      </span>
      
      <p>It turns out the guys at GitHub publish the <a href="http://github.com/changelog">commit messages from their work on GitHub</a> itself. If you really have to keep up you can even subscribe to an <a href="http://github.com/changelog.atom">Atom feed</a>.</p>

<p>OK, so this might not be hugely useful. But it <em>is</em> funny, and a just a nice sign of a small company being open in an interesting way. A few of my favourites:</p>

<blockquote>
<p>mmm pizza&hellip; guard against bad SHAs in Walker#commit</p>

<p>really need to get a handle on this insane testing setup</p>

<p>I guess ff3 linux is the worst browser ever made</p>

<p>dont care</p>
</blockquote>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/02/23/epydoc-ant-task/">Epydoc Ant task</a>
      </h1>
      <span class="post-date">Feb 23, 2009 &middot; 1 minute read
      </span>
      
      <p>I quite like <a href="http://epydoc.sourceforge.net/">Epydoc</a> for generating Python API documentation, even if the interface looks a little dated and could do with a lick of paint.</p>

<p>For most project I use an Ant build script to generate documentation when needed. You could wrap the basic commands in a make file or a bash script if you prefer that sort of thing though. The only trick is to make sure you have everything you need on your Python Path. In Django projects, or App Engine projects, you&rsquo;ll probably find the default runner script plays with the path somewhat. The following example adds the current directory to the path along with an ext directory where I stash external modules, which should see it run cleanly without any import errors.</p>

<p>pre. <project name="secretproject" default="create-api">
<property name="name" value="secretproject"/>
<property name="parent" value="/www/projects"/>
<property name="api" value="/www/project/secretproject/api"/>
<target name="create-api" description="Generate API documentation with epydoc">
<exec executable="/bin/sh">
<env key="PYTHONPATH" value="${parent}:${parent}/${name}/ext:$PYTHONPATH"/>
<env key="DJANGO_SETTINGS_MODULE" value="${name}.settings"/>
<arg line="-c 'epydoc --html -o ${api} --name ${name} --graph all ${name}'"/>
</exec>
</target>
</project></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="/2009/02/21/example-using-xmpp-app-engine-imified/">Example of using XMPP on App Engine (via IMified)</a>
      </h1>
      <span class="post-date">Feb 21, 2009 &middot; 3 minute read
      </span>
      
      <p>As I <a href="http://morethanseven.net/2009/02/07/xmpp-and-offline-processing-coming-google-app-engi/">mentioned before</a>, App Engine is getting an XMPP API at some point soon. But if you just can&rsquo;t wait to start adding IM interfaces to your applications then you <em>can</em> do it now, by using a nifty third party in <a href="http://imified.com/">IMified</a>.</p>

<p>IMified provide an incredibly simple HTTP API for interacting with your own IM bot. If we want to be buzz word compliant we might even call it a <a href="http://webhooks.pbwiki.com">webhook</a>. It&rsquo;s also currently a free service while they work through the beta. The <a href="http://new.imified.com/developers/api">documentation</a> is short and to the point but only contains examples in PHP. It supports multiple step <em>conversations</em> as well as authentication.</p>

<p>So, armed with a little time on the train over the last few days I got to work knocking together a quick demo application as a proof of concept. You can find the site on <a href="http://imified-demo.appspot.com/">imified-demo.appspot.com</a> and if you want to chat with the bot you can add <em>appengineimified@bot.im</em> to your contacts. The bot uses the Jabber protocol so is available over Jabber or GTalk. IMified make it easy to use MSN or Yahoo IM accounts as well, which is something the App Engine API might very well not do I would imagine.</p>

<p><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRjRDww" alt="Screengrab of the IMified App Engine site"/></p>

<p>As always you can find the code on <a href="http://github.com/garethr/appengine-imified/tree/master">GitHub</a>. Most of the code is actually just the site itself or settings to make local development easier. The following is a slightly edited version of the live code (logging and caching removed to make it easier to follow). All we need to do is accept a HTTP Post request with a list of arguments and return a plain text response. All being well the response is sent as a IM message to the sender.</p>

<p>pre. class IMified(webapp.RequestHandler):
&ldquo;This is the endpoint for the message from IMified&rdquo;
def post(self):
&ldquo;We recieve post data from IMified&rdquo;
userkey = self.request.get(&lsquo;userkey&rsquo;)
network = self.request.get(&lsquo;network&rsquo;)
msg = self.request.get(&lsquo;msg&rsquo;)
step = self.request.get(&lsquo;step&rsquo;)
try:
# we try and create the message
message = Message(
userkey = userkey,
network = network,
msg = msg,
step = int(step)
)
message.put()
# the response is send as an IM message to the sender
self.response.out.write(&lsquo;Message saved&rsquo;)
except:
self.response.out.write(&lsquo;An error ocured, message not saved&rsquo;)</p>

<p>IMified can obviously be used outside App Engine as well, and in fact it&rsquo;s not just about working around limitations in existing systems. Running the long running processes required for bots, and potentially even running your own XMPP server, is fiddly at times and requires at least some setup, monitoring and configuration to get working. Not having that as a barrier for entry for simple experiments or applications is a good thing.</p>

<p><a href="http://aralbalkan.com/">Aral</a> spoke at the last <a href="http://groups.google.com/group/django-london">DJUGL</a> about App Engine and mentioned a wide range of third party services that you can use to get around current limitations. IMified definitely fits into this group of support services very nicely indeed. I&rsquo;d love to see them do really well as it really makes it much easier to get started with XMPP applications, even if what you can do is limited to a few simple APIs. I&rsquo;d love to hear about other services that people are using in this way to build these distributed applications.</p>

      
    </div>
    
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/16/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/16/">16</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    class="active"><a href="/page/17/">17</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/18/">18</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/43/">43</a></li>
    
    
    <li
    >
    <a href="/page/18/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/43/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>



</body>
</html>

